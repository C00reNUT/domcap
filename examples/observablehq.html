<!doctype html>
<html>
  <head>
    <script type="module" src="observable-bootstrap.js"></script>
    <script src="./../deps/ffmpegserver.js"></script>
    <script src="./../deps/webm-writer.js"></script>
  </head>
  <body style="margin: 0; padding: 10px;">
    <section id="ui">
      <input name="notebook" id="notebook" type="text" value="@mbostock/spiral-raster">
      <label for="notebook">notebook</label>
      <br />
      <input name="length" id="length" type="number" value="1">
      <label for="length">length (in s)</label>
      <br />
      <input name="cell" id="cell" type="text" value="canvas">
      <label for="cell">cell name to render</label>
      <br />
      <input name="width" id="width" type="number" value="1280">
      <label for="width">
        <span>observable runtime width</span>
        <button onclick="setWidth(1280);">720p</button>
        <button onclick="setWidth(1920);">1080p</button>
        <button onclick="setWidth(3840);">4k</button>
      </label>
      <br />
      <input name="batch" id="batch" type="number" value="10">
      <label for="batch">
        <span>frame batch size (turn this down if you have OOM issues)</span>
      </label>
      <br />
      <input name="format" id="webm" type="radio" value="webm" checked>
      <label for="webm">webm (in browser)</label>
      <input name="format" id="ffmpeg" type="radio" value="ffmpeg">
      <label for="ffmpegserver">ffmpegserver (requires separate server)</label>
      <br />
      <button id="load">render video</button>
      <div id="status"></div>
    </section>
    <section id="result"></section>
    <section id="wrapper" style="width:1920px;height:1080px;display:none;"></section>

    <script>
      function setWidth(width) {
        document.querySelector('#width').value = width;
      }
    </script>
  </body>
</html>
